function RenderPost(cfg) {
  this.uri = cfg.uri;
  this.selector = cfg.selector;

  this._mdConverter = new showdown.Converter();

  this.init();
}
RenderPost.prototype.init = function() {
  var pr = this;

  $.getJSON(this.uri, function(data) {
    var post = data.post;
    $(pr.selector).show();
    $(pr.selector+" .date").html(post.date);
    if (post.thumbs.length)
      $(pr.selector+" .img-top").attr('src', post.thumbs[0]);
    else
      $(pr.selector+" .img-top").hide();
    $(pr.selector+" .title").html(post.title);
    if (post.urls.length)
    {
      $(pr.selector+" .img-top-link").attr('href', post.urls[0]);
      $(pr.selector+" .title-link").attr('href', post.urls[0]);
    }
    var markdown = pr._mdConverter.makeHtml(post.text);
    $(pr.selector+" .text").html(markdown);

    var reblogButtonSelector = pr.selector+" .reblog-button";
    $(reblogButtonSelector).data('reblog-url', pr.uri);
    ReblogButton.activate(reblogButtonSelector);
  });
}
