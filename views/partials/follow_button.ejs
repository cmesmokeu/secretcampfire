function FollowButton(cfg) {
  this.uri = cfg.uri;
  this.selector = cfg.selector;
  this.setBlogWidget = cfg.setBlogWidget

  this.init();
}

FollowButton.prototype.init = function() {
    var fb = this;

  $(this.selector).click(function(e) {
    e.preventDefault();

    fb.setBlogWidget.getBlog(function(url) {
      fb.handleFollow(url);
    });
    
    return false;
  });
}

FollowButton.prototype.handleFollow = function(userUrl) {
  var followUrl = this.uri;

  var url = userUrl + "/dashboard?follow=" + encodeURIComponent(followUrl);
  var tab = window.open(url, '_blank');
  tab.focus();
}
